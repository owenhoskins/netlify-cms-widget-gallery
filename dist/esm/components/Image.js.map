{"version":3,"sources":["../../../src/components/Image.js"],"names":["convertProps","props","convertedProps","responsiveResolution","resolutions","responsiveSizes","sizes","imageCache","inImageCache","src","io","listeners","getIO","window","IntersectionObserver","entries","forEach","entry","l","target","isIntersecting","intersectionRatio","unobserve","rootMargin","listenToIntersections","el","cb","observe","push","isWebpSupportedCache","isWebpSupported","elem","document","createElement","getContext","toDataURL","indexOf","noscriptImg","opacity","srcSet","title","alt","width","height","transitionDelay","Img","style","objectFit","objectPosition","onLoad","otherProps","position","top","left","transition","fontFamily","propTypes","PropTypes","number","string","func","Image","React","Component","constructor","isVisible","imgLoaded","IOSupported","seenBefore","state","showBase64","handleRef","bind","ref","setState","render","className","outerWrapperClassName","outerCss","innerCss","backgroundColor","customAspect","base64Style","bgColor","image","srcWebp","srcSetWebp","defaultAspect","paddingBottom","aspectRatio","defaultBase64Style","filter","transform","zIndex","overflow","base64","tracedSVG","bottom","right","fadeIn","__html","divStyle","display","defaultProps","object","bool","oneOfType"],"mappings":";;;;;;;;;AACA;;AACA;;AACA;;;;;;;;;;;;;;AAEA;AACA,MAAMA,YAAY,GAAGC,KAAK,IAAI;AAC5B,MAAIC,cAAc,qBAAQD,KAAR,CAAlB;;AACA,MAAIC,cAAc,CAACC,oBAAnB,EAAyC;AACvCD,IAAAA,cAAc,CAACE,WAAf,GAA6BF,cAAc,CAACC,oBAA5C;AACA,WAAOD,cAAc,CAACC,oBAAtB;AACD;;AACD,MAAID,cAAc,CAACG,eAAnB,EAAoC;AAClCH,IAAAA,cAAc,CAACI,KAAf,GAAuBJ,cAAc,CAACG,eAAtC;AACA,WAAOH,cAAc,CAACG,eAAtB;AACD;;AAED,SAAOH,cAAP;AACD,CAZD,C,CAcA;AACA;;;AACA,MAAMK,UAAU,GAAG,EAAnB;;AACA,MAAMC,YAAY,GAAGP,KAAK,IAAI;AAC5B,QAAMC,cAAc,GAAGF,YAAY,CAACC,KAAD,CAAnC,CAD4B,CAE5B;;AACA,QAAMQ,GAAG,GAAGP,cAAc,CAACI,KAAf,GACRJ,cAAc,CAACI,KAAf,CAAqBG,GADb,GAERP,cAAc,CAACE,WAAf,CAA2BK,GAF/B;;AAIA,MAAIF,UAAU,CAACE,GAAD,CAAd,EAAqB;AACnB,WAAO,IAAP;AACD,GAFD,MAEO;AACLF,IAAAA,UAAU,CAACE,GAAD,CAAV,GAAkB,IAAlB;AACA,WAAO,KAAP;AACD;AACF,CAbD;;AAeA,IAAIC,EAAJ;AACA,MAAMC,SAAS,GAAG,EAAlB;;AAEA,SAASC,KAAT,GAAiB;AACf,MACE,OAAOF,EAAP,KAAe,WAAf,IACA,OAAOG,MAAP,KAAmB,WADnB,IAEAA,MAAM,CAACC,oBAHT,EAIE;AACAJ,IAAAA,EAAE,GAAG,IAAIG,MAAM,CAACC,oBAAX,CACHC,OAAO,IAAI;AACTA,MAAAA,OAAO,CAACC,OAAR,CAAgBC,KAAK,IAAI;AACvBN,QAAAA,SAAS,CAACK,OAAV,CAAkBE,CAAC,IAAI;AACrB,cAAIA,CAAC,CAAC,CAAD,CAAD,KAASD,KAAK,CAACE,MAAnB,EAA2B;AACzB;AACA,gBAAIF,KAAK,CAACG,cAAN,IAAwBH,KAAK,CAACI,iBAAN,GAA0B,CAAtD,EAAyD;AACvD;AACAX,cAAAA,EAAE,CAACY,SAAH,CAAaJ,CAAC,CAAC,CAAD,CAAd;AACAA,cAAAA,CAAC,CAAC,CAAD,CAAD;AACD;AACF;AACF,SATD;AAUD,OAXD;AAYD,KAdE,EAeH;AAAEK,MAAAA,UAAU,EAAG;AAAf,KAfG,CAAL;AAiBD;;AAED,SAAOb,EAAP;AACD;;AAED,MAAMc,qBAAqB,GAAG,CAACC,EAAD,EAAKC,EAAL,KAAY;AACxCd,EAAAA,KAAK,GAAGe,OAAR,CAAgBF,EAAhB;AACAd,EAAAA,SAAS,CAACiB,IAAV,CAAe,CAACH,EAAD,EAAKC,EAAL,CAAf;AACD,CAHD;;AAKA,IAAIG,oBAAoB,GAAG,IAA3B;;AACA,MAAMC,eAAe,GAAG,MAAM;AAC5B,MAAID,oBAAoB,KAAK,IAA7B,EAAmC;AACjC,WAAOA,oBAAP;AACD;;AAED,QAAME,IAAI,GACR,OAAOlB,MAAP,KAAmB,WAAnB,GAAgCA,MAAM,CAACmB,QAAP,CAAgBC,aAAhB,CAA+B,QAA/B,CAAhC,GAA0E,EAD5E;;AAEA,MAAIF,IAAI,CAACG,UAAL,IAAmBH,IAAI,CAACG,UAAL,CAAiB,IAAjB,CAAvB,EAA8C;AAC5CL,IAAAA,oBAAoB,GAClBE,IAAI,CAACI,SAAL,CAAgB,YAAhB,EAA6BC,OAA7B,CAAsC,iBAAtC,MAA4D,CAD9D;AAED,GAHD,MAGO;AACLP,IAAAA,oBAAoB,GAAG,KAAvB;AACD;;AAED,SAAOA,oBAAP;AACD,CAfD;;AAiBA,MAAMQ,WAAW,GAAGpC,KAAK,IAAI;AAAA,yBAWvBA,KAXuB,CAEzBqC,OAFyB;AAAA,QAEzBA,OAFyB,+BAEd,EAFc;AAAA,QAGzB7B,GAHyB,GAWvBR,KAXuB,CAGzBQ,GAHyB;AAAA,QAIzB8B,MAJyB,GAWvBtC,KAXuB,CAIzBsC,MAJyB;AAAA,uBAWvBtC,KAXuB,CAKzBK,KALyB;AAAA,QAKzBA,KALyB,6BAKhB,EALgB;AAAA,uBAWvBL,KAXuB,CAMzBuC,KANyB;AAAA,QAMzBA,KANyB,6BAMhB,EANgB;AAAA,qBAWvBvC,KAXuB,CAOzBwC,GAPyB;AAAA,QAOzBA,GAPyB,2BAOlB,EAPkB;AAAA,uBAWvBxC,KAXuB,CAQzByC,KARyB;AAAA,QAQzBA,KARyB,6BAQhB,EARgB;AAAA,wBAWvBzC,KAXuB,CASzB0C,MATyB;AAAA,QASzBA,MATyB,8BASf,EATe;AAAA,gCAWvB1C,KAXuB,CAUzB2C,eAVyB;AAAA,QAUzBA,eAVyB,sCAUN,EAVM;AAY3B,SAAQ,cAAaF,KAAM,WAAUC,MAAO,SAAQlC,GAAI,aAAY8B,MAAO,UAASE,GAAI,YAAWD,KAAM,YAAWlC,KAAM,oFAAmFsC,eAAgB,YAAWN,OAAQ,qEAAhP;AACD,CAbD;;AAeA,MAAMO,GAAG,GAAG5C,KAAK,IAAI;AAAA,QACX6C,KADW,GACgF7C,KADhF,CACX6C,KADW;AAAA,QACJC,SADI,GACgF9C,KADhF,CACJ8C,SADI;AAAA,QACOC,cADP,GACgF/C,KADhF,CACO+C,cADP;AAAA,QACuBV,OADvB,GACgFrC,KADhF,CACuBqC,OADvB;AAAA,QACgCW,MADhC,GACgFhD,KADhF,CACgCgD,MADhC;AAAA,iCACgFhD,KADhF,CACwC2C,eADxC;AAAA,QACwCA,eADxC,uCAC2D,EAD3D;AAAA,QACiEM,UADjE,4BACgFjD,KADhF;;AAGnB,SACE;AACE,IAAA,SAAS,EAAC,OADZ;AAEE,IAAA,WAAW,EAAC;AAFd,KAGMiD,UAHN;AAIE,IAAA,MAAM,EAAED,MAJV;AAKE,IAAA,GAAG;AAAA;AAAA;AACDE,MAAAA,QAAQ,EAAG,UADV;AAEDC,MAAAA,GAAG,EAAE,CAFJ;AAGDC,MAAAA,IAAI,EAAE,CAHL;AAIDC,MAAAA,UAAU,EAAG,YAJZ;AAKDV,MAAAA,eALC;AAMDN,MAAAA,OANC;AAODI,MAAAA,KAAK,EAAG,MAPP;AAQDC,MAAAA,MAAM,EAAG,MARR;AASDI,MAAAA,SAAS,EAAEA,SAAS,GAAGA,SAAH,GAAgB,SATnC;AAUDC,MAAAA,cAAc,EAAEA,cAAc,GAAGA,cAAH,GAAqB,YAVlD;AAWDO,MAAAA,UAAU,EAAG,gBAAeR,SAAS,GAAGA,SAAH,GAAe,SAAU,sBAAqBC,cAAc,GAAGA,cAAH,GAAoB,YAAa;AAXjI,OAYEF,KAZF;AALL,KADF;AAsBD,CAzBD;;AA2BAD,GAAG,CAACW,SAAJ,GAAgB;AACdlB,EAAAA,OAAO,EAAEmB,mBAAUC,MADL;AAEdd,EAAAA,eAAe,EAAEa,mBAAUE,MAFb;AAGdV,EAAAA,MAAM,EAAEQ,mBAAUG;AAHJ,CAAhB;;AAMA,MAAMC,KAAN,SAAoBC,eAAMC,SAA1B,CAAoC;AAClCC,EAAAA,WAAW,CAAC/D,KAAD,EAAQ;AACjB,UAAMA,KAAN,EADiB,CAGjB;AACA;;AACA,QAAIgE,SAAS,GAAG,IAAhB;AACA,QAAIC,SAAS,GAAG,IAAhB;AACA,QAAIC,WAAW,GAAG,KAAlB,CAPiB,CASjB;AACA;;AACA,UAAMC,UAAU,GAAG5D,YAAY,CAACP,KAAD,CAA/B;;AAEA,QACE,CAACmE,UAAD,IACA,OAAOvD,MAAP,KAAmB,WADnB,IAEAA,MAAM,CAACC,oBAHT,EAIE;AACAmD,MAAAA,SAAS,GAAG,KAAZ;AACAC,MAAAA,SAAS,GAAG,KAAZ;AACAC,MAAAA,WAAW,GAAG,IAAd;AACD,KArBgB,CAuBjB;;;AACA,QAAI,OAAOtD,MAAP,KAAmB,WAAvB,EAAmC;AACjCoD,MAAAA,SAAS,GAAG,KAAZ;AACAC,MAAAA,SAAS,GAAG,KAAZ;AACD;;AAED,SAAKG,KAAL,GAAa;AACXJ,MAAAA,SADW;AAEXC,MAAAA,SAFW;AAGXC,MAAAA,WAHW;AAIXG,MAAAA,UAAU,EAAE;AAJD,KAAb;AAOA,SAAKC,SAAL,GAAiB,KAAKA,SAAL,CAAeC,IAAf,CAAoB,IAApB,CAAjB;AACD;;AAEDD,EAAAA,SAAS,CAACE,GAAD,EAAM;AACb,QAAI,KAAKJ,KAAL,CAAWF,WAAX,IAA0BM,GAA9B,EAAmC;AACjCjD,MAAAA,qBAAqB,CAACiD,GAAD,EAAM,MAAM;AAC/B,aAAKC,QAAL,CAAc;AAAET,UAAAA,SAAS,EAAE,IAAb;AAAmBC,UAAAA,SAAS,EAAE;AAA9B,SAAd;AACD,OAFoB,CAArB;AAGD;AACF;;AAEDS,EAAAA,MAAM,GAAG;AAAA,0BAgBH3E,YAAY,CAAC,KAAKC,KAAN,CAhBT;AAAA,UAELuC,KAFK,iBAELA,KAFK;AAAA,UAGLC,GAHK,iBAGLA,GAHK;AAAA,UAILmC,SAJK,iBAILA,SAJK;AAAA,UAKLC,qBALK,iBAKLA,qBALK;AAAA,gDAMLC,QANK;AAAA,UAMLA,QANK,sCAMM,EANN;AAAA,gDAOLC,QAPK;AAAA,UAOLA,QAPK,sCAOM,EAPN;AAAA,8CAQLjC,KARK;AAAA,UAQLA,KARK,oCAQG,EARH;AAAA,UASLxC,KATK,iBASLA,KATK;AAAA,UAULF,WAVK,iBAULA,WAVK;AAAA,UAWL4E,eAXK,iBAWLA,eAXK;AAAA,UAYLjC,SAZK,iBAYLA,SAZK;AAAA,UAaLC,cAbK,iBAaLA,cAbK;AAAA,UAcLiC,YAdK,iBAcLA,YAdK;AAAA,UAeLC,WAfK,iBAeLA,WAfK;;AAmBP,QAAIC,OAAJ;;AACA,QAAI,OAAOH,eAAP,KAA4B,SAAhC,EAA0C;AACxCG,MAAAA,OAAO,GAAI,WAAX;AACD,KAFD,MAEO;AACLA,MAAAA,OAAO,GAAGH,eAAV;AACD;;AAED,QAAI1E,KAAJ,EAAW;AACT,YAAM8E,KAAK,GAAG9E,KAAd,CADS,CAGT;;AACA,UAAI8E,KAAK,CAACC,OAAN,IAAiBD,KAAK,CAACE,UAAvB,IAAqCxD,eAAe,EAAxD,EAA4D;AAC1DsD,QAAAA,KAAK,CAAC3E,GAAN,GAAY2E,KAAK,CAACC,OAAlB;AACAD,QAAAA,KAAK,CAAC7C,MAAN,GAAe6C,KAAK,CAACE,UAArB;AACD;;AAED,YAAMC,aAAa,GAAG;AACpB7C,QAAAA,KAAK,EAAG,MADY;AAEpB8C,QAAAA,aAAa,EAAG,GAAE,MAAMJ,KAAK,CAACK,WAAY;AAFtB,OAAtB;AAKA,YAAMC,kBAAkB,GAAG;AACzBC,QAAAA,MAAM,EAAE,KAAKtB,KAAL,CAAWC,UAAX,GAAwB,YAAxB,GAAuC,EADtB;AAEzBsB,QAAAA,SAAS,EAAE,KAAKvB,KAAL,CAAWC,UAAX,GAAwB,YAAxB,GAAuC,EAFzB,CAI3B;;AAJ2B,OAA3B;AAKA,aACE;AACE,QAAA,SAAS,EAAG,qBADd;AAEE,QAAA,GAAG;AAAA;AAAA,2BAAE;AACHuB,UAAAA,MAAM,EAAE,CADL;AAEH;AACA1C,UAAAA,QAAQ,EAAEL,KAAK,CAACK,QAAN,KAAoB,UAApB,GAAiC,SAAjC,GAA6C,UAHpD;AAIHT,UAAAA,KAAK,EAAE;AAJJ,SAAF,wxkBAFL;AAQE,QAAA,KAAK,oBACAoC,QADA;AARP,SAYE;AACE,QAAA,SAAS,EAAG,sBADd;AAEE,QAAA,GAAG;AAAA;AAAA;AACD3B,UAAAA,QAAQ,EAAG,UADV;AAED2C,UAAAA,QAAQ,EAAG,QAFV;AAGDD,UAAAA,MAAM,EAAE;AAHP,WAIEd,QAJF,yxkBAFL;AAQE,QAAA,GAAG,EAAE,KAAKR;AARZ,SAWE;AACE,QAAA,KAAK,oBACCU,YAAY,GAAGA,YAAH,GAAkBM,aAD/B;AADP,QAXF,EAkBGH,KAAK,CAACW,MAAN,IACC,eAAC,GAAD;AACE,QAAA,GAAG,EAAEtD,GADP;AAEE,QAAA,KAAK,EAAED,KAFT;AAGE,QAAA,GAAG,EAAE4C,KAAK,CAACW,MAHb;AAIE,QAAA,OAAO,EAAE,CAAC,KAAK1B,KAAL,CAAWH,SAAZ,GAAwB,GAAxB,GAA8B,CAJzC;AAKE,QAAA,eAAe,EAAG,MALpB;AAME,QAAA,SAAS,EAAEnB,SANb;AAOE,QAAA,KAAK,oBACCmC,WAAW,GAAGA,WAAH,GAAiBQ,kBAD7B;AAPP,QAnBJ,EAiCGN,KAAK,CAACY,SAAN,IACC,eAAC,GAAD;AACE,QAAA,GAAG,EAAEvD,GADP;AAEE,QAAA,KAAK,EAAED,KAFT;AAGE,QAAA,GAAG,EAAE4C,KAAK,CAACY,SAHb;AAIE,QAAA,OAAO,EAAE,CAAC,KAAK3B,KAAL,CAAWH,SAAZ,GAAwB,CAAxB,GAA4B,CAJvC;AAKE,QAAA,eAAe,EAAG;AALpB,QAlCJ,EA4CGiB,OAAO,IACN;AACE,QAAA,KAAK,EAAE3C,KADT;AAEE,QAAA,KAAK,EAAE;AACLwC,UAAAA,eAAe,EAAEG,OADZ;AAELhC,UAAAA,QAAQ,EAAG,UAFN;AAGLC,UAAAA,GAAG,EAAE,CAHA;AAIL6C,UAAAA,MAAM,EAAE,CAJH;AAKL3D,UAAAA,OAAO,EAAE,CAAC,KAAK+B,KAAL,CAAWH,SAAZ,GAAwB,CAAxB,GAA4B,CALhC;AAMLtB,UAAAA,eAAe,EAAG,OANb;AAOLsD,UAAAA,KAAK,EAAE,CAPF;AAQL7C,UAAAA,IAAI,EAAE;AARD;AAFT,QA7CJ,EA6DG,KAAKgB,KAAL,CAAWJ,SAAX,IACC,eAAC,GAAD;AACE,QAAA,GAAG,EAAExB,GADP;AAEE,QAAA,KAAK,EAAED,KAFT;AAGE,QAAA,MAAM,EAAE4C,KAAK,CAAC7C,MAHhB;AAIE,QAAA,GAAG,EAAE6C,KAAK,CAAC3E,GAJb;AAKE,QAAA,KAAK,EAAE2E,KAAK,CAAC9E,KALf;AAME,QAAA,SAAS,EAAEyC,SANb;AAOE,QAAA,cAAc,EAAEC,cAPlB;AAQE,QAAA,eAAe,EAAG,MARpB;AASE,QAAA,OAAO,EACL,KAAKqB,KAAL,CAAWH,SAAX,IAAwB,KAAKjE,KAAL,CAAWkG,MAAX,KAAsB,KAA9C,GAAsD,CAAtD,GAA0D,CAV9D;AAYE,QAAA,MAAM,EAAE,MAAM;AACZ,eAAK9B,KAAL,CAAWF,WAAX,IAA0B,KAAKO,QAAL,CAAc;AAAER,YAAAA,SAAS,EAAE;AAAb,WAAd,CAA1B;AACA,eAAKjE,KAAL,CAAWgD,MAAX,IAAqB,KAAKhD,KAAL,CAAWgD,MAAX,EAArB,CAFY,CAGZ;AACD;AAhBH,QA9DJ,EAmFE;AACE,QAAA,uBAAuB,EAAE;AACvBmD,UAAAA,MAAM,EAAE/D,WAAW;AAAGI,YAAAA,GAAH;AAAQD,YAAAA;AAAR,aAAkB4C,KAAlB;AADI;AAD3B,QAnFF,CAZF,CADF;AAwGD;;AAED,QAAIhF,WAAJ,EAAiB;AACf,YAAMgF,KAAK,GAAGhF,WAAd;;AACA,YAAMiG,QAAQ;AACZlD,QAAAA,QAAQ,EAAG,UADC;AAEZ2C,QAAAA,QAAQ,EAAG,QAFC;AAGZQ,QAAAA,OAAO,EAAG,cAHE;AAIZT,QAAAA,MAAM,EAAE,CAJI;AAKZnD,QAAAA,KAAK,EAAE0C,KAAK,CAAC1C,KALD;AAMZC,QAAAA,MAAM,EAAEyC,KAAK,CAACzC;AANF,SAOTG,KAPS,CAAd;;AAUA,UAAIA,KAAK,CAACwD,OAAN,KAAmB,SAAvB,EAAiC;AAC/B,eAAOD,QAAQ,CAACC,OAAhB;AACD,OAdc,CAgBf;;;AACA,UAAIlB,KAAK,CAACC,OAAN,IAAiBD,KAAK,CAACE,UAAvB,IAAqCxD,eAAe,EAAxD,EAA4D;AAC1DsD,QAAAA,KAAK,CAAC3E,GAAN,GAAY2E,KAAK,CAACC,OAAlB;AACAD,QAAAA,KAAK,CAAC7C,MAAN,GAAe6C,KAAK,CAACE,UAArB;AACD,OApBc,CAsBf;;;AACA,aACE;AACE,QAAA,SAAS,EAAG,GACVT,qBAAqB,GAAGA,qBAAH,GAA4B,EAClD,6BAHH;AAIE,QAAA,KAAK,EAAE;AACLgB,UAAAA,MAAM,EAAE,CADH;AAEL;AACA1C,UAAAA,QAAQ,EAAEL,KAAK,CAACK,QAAN,KAAoB,UAApB,GAAiC,SAAjC,GAA6C;AAHlD;AAJT,SAUE;AACE,QAAA,SAAS,EAAG,GAAEyB,SAAS,GAAGA,SAAH,GAAgB,EAAE,uBAD3C;AAEE,QAAA,KAAK,EAAEyB,QAFT;AAGE,QAAA,GAAG,EAAE,KAAK9B;AAHZ,SAMGa,KAAK,CAACW,MAAN,IACC,eAAC,GAAD;AACE,QAAA,GAAG,EAAEtD,GADP;AAEE,QAAA,KAAK,EAAED,KAFT;AAGE,QAAA,GAAG,EAAE4C,KAAK,CAACW,MAHb;AAIE,QAAA,OAAO,EAAE,CAAC,KAAK1B,KAAL,CAAWH,SAAZ,GAAwB,CAAxB,GAA4B,CAJvC;AAKE,QAAA,eAAe,EAAG;AALpB,QAPJ,EAiBGkB,KAAK,CAACY,SAAN,IACC,eAAC,GAAD;AACE,QAAA,GAAG,EAAEvD,GADP;AAEE,QAAA,KAAK,EAAED,KAFT;AAGE,QAAA,GAAG,EAAE4C,KAAK,CAACY,SAHb;AAIE,QAAA,OAAO,EAAE,CAAC,KAAK3B,KAAL,CAAWH,SAAZ,GAAwB,CAAxB,GAA4B,CAJvC;AAKE,QAAA,eAAe,EAAG;AALpB,QAlBJ,EA4BGiB,OAAO,IACN;AACE,QAAA,KAAK,EAAE3C,KADT;AAEE,QAAA,KAAK,EAAE;AACLwC,UAAAA,eAAe,EAAEG,OADZ;AAELzC,UAAAA,KAAK,EAAE0C,KAAK,CAAC1C,KAFR;AAGLJ,UAAAA,OAAO,EAAE,CAAC,KAAK+B,KAAL,CAAWH,SAAZ,GAAwB,CAAxB,GAA4B,CAHhC;AAILtB,UAAAA,eAAe,EAAG,OAJb;AAKLD,UAAAA,MAAM,EAAEyC,KAAK,CAACzC;AALT;AAFT,QA7BJ,EA0CG,KAAK0B,KAAL,CAAWJ,SAAX,IACC,eAAC,GAAD;AACE,QAAA,GAAG,EAAExB,GADP;AAEE,QAAA,KAAK,EAAED,KAFT;AAGE,QAAA,KAAK,EAAE4C,KAAK,CAAC1C,KAHf;AAIE,QAAA,MAAM,EAAE0C,KAAK,CAACzC,MAJhB;AAKE,QAAA,MAAM,EAAEyC,KAAK,CAAC7C,MALhB;AAME,QAAA,GAAG,EAAE6C,KAAK,CAAC3E,GANb;AAOE,QAAA,OAAO,EACL,KAAK4D,KAAL,CAAWH,SAAX,IAAwB,KAAKjE,KAAL,CAAWkG,MAAX,KAAsB,KAA9C,GAAsD,CAAtD,GAA0D,CAR9D;AAUE,QAAA,MAAM,EAAE,MAAM;AACZ,eAAKzB,QAAL,CAAc;AAAER,YAAAA,SAAS,EAAE;AAAb,WAAd;AACA,eAAKjE,KAAL,CAAWgD,MAAX,IAAqB,KAAKhD,KAAL,CAAWgD,MAAX,EAArB;AACD;AAbH,QA3CJ,EA6DE;AACE,QAAA,uBAAuB,EAAE;AACvBmD,UAAAA,MAAM,EAAE/D,WAAW;AACjBI,YAAAA,GADiB;AAEjBD,YAAAA,KAFiB;AAGjBE,YAAAA,KAAK,EAAE0C,KAAK,CAAC1C,KAHI;AAIjBC,YAAAA,MAAM,EAAEyC,KAAK,CAACzC;AAJG,aAKdyC,KALc;AADI;AAD3B,QA7DF,CAVF,CADF;AAsFD;;AAED,WAAO,IAAP;AACD;;AAvTiC;;AA0TpCvB,KAAK,CAAC0C,YAAN,GAAqB;AACnBJ,EAAAA,MAAM,EAAE,IADW;AAEnB1D,EAAAA,GAAG,EAAG;AAFa,CAArB;AAKAoB,KAAK,CAACL,SAAN,GAAkB;AAChBrD,EAAAA,oBAAoB,EAAEsD,mBAAU+C,MADhB;AAEhBnG,EAAAA,eAAe,EAAEoD,mBAAU+C,MAFX;AAGhBpG,EAAAA,WAAW,EAAEqD,mBAAU+C,MAHP;AAIhBlG,EAAAA,KAAK,EAAEmD,mBAAU+C,MAJD;AAKhBL,EAAAA,MAAM,EAAE1C,mBAAUgD,IALF;AAMhBjE,EAAAA,KAAK,EAAEiB,mBAAUE,MAND;AAOhBlB,EAAAA,GAAG,EAAEgB,mBAAUE,MAPC;AAQhBiB,EAAAA,SAAS,EAAEnB,mBAAUiD,SAAV,CAAoB,CAACjD,mBAAUE,MAAX,EAAmBF,mBAAU+C,MAA7B,CAApB,CARK;AAQsD;AACtE3B,EAAAA,qBAAqB,EAAEpB,mBAAUiD,SAAV,CAAoB,CACzCjD,mBAAUE,MAD+B,EAEzCF,mBAAU+C,MAF+B,CAApB,CATP;AAahB1D,EAAAA,KAAK,EAAEW,mBAAU+C,MAbD;AAchBrD,EAAAA,QAAQ,EAAEM,mBAAUE,MAdJ;AAehBqB,EAAAA,eAAe,EAAEvB,mBAAUiD,SAAV,CAAoB,CAACjD,mBAAUE,MAAX,EAAmBF,mBAAUgD,IAA7B,CAApB,CAfD;AAgBhBxD,EAAAA,MAAM,EAAEQ,mBAAUG;AAhBF,CAAlB;eAmBeC,K","sourcesContent":["/** @jsx jsx */\nimport React from \"react\"\nimport PropTypes from \"prop-types\"\nimport {jsx} from '@emotion/core'\n\n// Handle legacy names for image queries.\nconst convertProps = props => {\n  let convertedProps = { ...props }\n  if (convertedProps.responsiveResolution) {\n    convertedProps.resolutions = convertedProps.responsiveResolution\n    delete convertedProps.responsiveResolution\n  }\n  if (convertedProps.responsiveSizes) {\n    convertedProps.sizes = convertedProps.responsiveSizes\n    delete convertedProps.responsiveSizes\n  }\n\n  return convertedProps\n}\n\n// Cache if we've seen an image before so we don't both with\n// lazy-loading & fading in on subsequent mounts.\nconst imageCache = {}\nconst inImageCache = props => {\n  const convertedProps = convertProps(props)\n  // Find src\n  const src = convertedProps.sizes\n    ? convertedProps.sizes.src\n    : convertedProps.resolutions.src\n\n  if (imageCache[src]) {\n    return true\n  } else {\n    imageCache[src] = true\n    return false\n  }\n}\n\nlet io\nconst listeners = []\n\nfunction getIO() {\n  if (\n    typeof io === `undefined` &&\n    typeof window !== `undefined` &&\n    window.IntersectionObserver\n  ) {\n    io = new window.IntersectionObserver(\n      entries => {\n        entries.forEach(entry => {\n          listeners.forEach(l => {\n            if (l[0] === entry.target) {\n              // Edge doesn't currently support isIntersecting, so also test for an intersectionRatio > 0\n              if (entry.isIntersecting || entry.intersectionRatio > 0) {\n                //console.log('Observer: ', entry, entry.isIntersecting)\n                io.unobserve(l[0])\n                l[1]()\n              }\n            }\n          })\n        })\n      },\n      { rootMargin: `200px` }\n    )\n  }\n\n  return io\n}\n\nconst listenToIntersections = (el, cb) => {\n  getIO().observe(el)\n  listeners.push([el, cb])\n}\n\nlet isWebpSupportedCache = null\nconst isWebpSupported = () => {\n  if (isWebpSupportedCache !== null) {\n    return isWebpSupportedCache\n  }\n\n  const elem =\n    typeof window !== `undefined` ? window.document.createElement(`canvas`) : {}\n  if (elem.getContext && elem.getContext(`2d`)) {\n    isWebpSupportedCache =\n      elem.toDataURL(`image/webp`).indexOf(`data:image/webp`) === 0\n  } else {\n    isWebpSupportedCache = false\n  }\n\n  return isWebpSupportedCache\n}\n\nconst noscriptImg = props => {\n  const {\n    opacity = ``,\n    src,\n    srcSet,\n    sizes = ``,\n    title = ``,\n    alt = ``,\n    width = ``,\n    height = ``,\n    transitionDelay = ``,\n  } = props\n  return `<img width=${width} height=${height} src=\"${src}\" srcset=\"${srcSet}\" alt=\"${alt}\" title=\"${title}\" sizes=\"${sizes}\" style=\"position:absolute;top:0;left:0;transition:opacity 0.5s;transition-delay:${transitionDelay};opacity:${opacity};width:100%;height:100%;object-fit:contain;objectPosition:center\"/>`\n}\n\nconst Img = props => {\n  const { style, objectFit, objectPosition, opacity, onLoad, transitionDelay = ``, ...otherProps } = props\n\n  return (\n    <img\n      draggable=\"false\"\n      ondragstart=\"return false;\"\n      {...otherProps}\n      onLoad={onLoad}\n      css={{\n        position: `absolute`,\n        top: 0,\n        left: 0,\n        transition: `opacity 1s`,\n        transitionDelay,\n        opacity,\n        width: `100%`,\n        height: `100%`,\n        objectFit: objectFit ? objectFit : `contain`,\n        objectPosition: objectPosition ? objectPosition : `top center`,\n        fontFamily: `'object-fit: ${objectFit ? objectFit : 'contain'}; object-position: ${objectPosition ? objectPosition : 'top center'};'`,\n        ...style\n      }}\n    />\n  )\n}\n\nImg.propTypes = {\n  opacity: PropTypes.number,\n  transitionDelay: PropTypes.string,\n  onLoad: PropTypes.func,\n}\n\nclass Image extends React.Component {\n  constructor(props) {\n    super(props)\n\n    // If this browser doesn't support the IntersectionObserver API\n    // we default to start downloading the image right away.\n    let isVisible = true\n    let imgLoaded = true\n    let IOSupported = false\n\n    // If this image has already been loaded before then we can assume it's\n    // already in the browser cache so it's cheap to just show directly.\n    const seenBefore = inImageCache(props)\n\n    if (\n      !seenBefore &&\n      typeof window !== `undefined` &&\n      window.IntersectionObserver\n    ) {\n      isVisible = false\n      imgLoaded = false\n      IOSupported = true\n    }\n\n    // Always don't render image while server rendering\n    if (typeof window === `undefined`) {\n      isVisible = false\n      imgLoaded = false\n    }\n\n    this.state = {\n      isVisible,\n      imgLoaded,\n      IOSupported,\n      showBase64: true\n    }\n\n    this.handleRef = this.handleRef.bind(this)\n  }\n\n  handleRef(ref) {\n    if (this.state.IOSupported && ref) {\n      listenToIntersections(ref, () => {\n        this.setState({ isVisible: true, imgLoaded: false })\n      })\n    }\n  }\n\n  render() {\n    const {\n      title,\n      alt,\n      className,\n      outerWrapperClassName,\n      outerCss = {},\n      innerCss = {},\n      style = {},\n      sizes,\n      resolutions,\n      backgroundColor,\n      objectFit,\n      objectPosition,\n      customAspect,\n      base64Style\n    } = convertProps(this.props)\n\n\n    let bgColor\n    if (typeof backgroundColor === `boolean`) {\n      bgColor = `lightgray`\n    } else {\n      bgColor = backgroundColor\n    }\n\n    if (sizes) {\n      const image = sizes\n\n      // Use webp by default if browser supports it\n      if (image.srcWebp && image.srcSetWebp && isWebpSupported()) {\n        image.src = image.srcWebp\n        image.srcSet = image.srcSetWebp\n      }\n\n      const defaultAspect = {\n        width: `100%`,\n        paddingBottom: `${100 / image.aspectRatio}%`,\n      }\n\n      const defaultBase64Style = {\n        filter: this.state.showBase64 ? 'blur(15px)' : '',\n        transform: this.state.showBase64 ? 'scale(1.5)' : ''\n      }\n      // The outer div is necessary to reset the z-index to 0.\n      return (\n        <div\n          className={`image-outer-wrapper`}\n          css={{\n            zIndex: 0,\n            // Let users set component to be absolutely positioned.\n            position: style.position === `absolute` ? `initial` : `relative`,\n            width: '100%',\n          }}\n          style={{\n            ...outerCss\n          }}\n        >\n          <div\n            className={`gatsby-image-wrapper`}\n            css={{\n              position: `relative`,\n              overflow: `hidden`,\n              zIndex: 1,\n              ...innerCss,\n            }}\n            ref={this.handleRef}\n          >\n            {/* Preserve the aspect ratio. */}\n            <div\n              style={{\n                ...(customAspect ? customAspect : defaultAspect)\n              }}\n            />\n\n            {/* Show the blury base64 image. this.state.showBase64 &&  */}\n            {image.base64 && (\n              <Img\n                alt={alt}\n                title={title}\n                src={image.base64}\n                opacity={!this.state.imgLoaded ? 0.5 : 0}\n                transitionDelay={`0.5s`}\n                objectFit={objectFit}\n                style={{\n                  ...(base64Style ? base64Style : defaultBase64Style)\n                }}\n              />\n            )}\n\n            {/* Show the traced SVG image. */}\n            {image.tracedSVG && (\n              <Img\n                alt={alt}\n                title={title}\n                src={image.tracedSVG}\n                opacity={!this.state.imgLoaded ? 1 : 0}\n                transitionDelay={`0.25s`}\n              />\n            )}\n\n            {/* Show a solid background color. */}\n            {bgColor && (\n              <div\n                title={title}\n                style={{\n                  backgroundColor: bgColor,\n                  position: `absolute`,\n                  top: 0,\n                  bottom: 0,\n                  opacity: !this.state.imgLoaded ? 1 : 0,\n                  transitionDelay: `0.35s`,\n                  right: 0,\n                  left: 0,\n                }}\n              />\n            )}\n\n            {/* Once the image is visible (or the browser doesn't support IntersectionObserver), start downloading the image */}\n            {this.state.isVisible && (\n              <Img\n                alt={alt}\n                title={title}\n                srcSet={image.srcSet}\n                src={image.src}\n                sizes={image.sizes}\n                objectFit={objectFit}\n                objectPosition={objectPosition}\n                transitionDelay={`0.5s`}\n                opacity={\n                  this.state.imgLoaded || this.props.fadeIn === false ? 1 : 0\n                }\n                onLoad={() => {\n                  this.state.IOSupported && this.setState({ imgLoaded: true })\n                  this.props.onLoad && this.props.onLoad()\n                  //setTimeout(() => this.setState({showBase64: false}), 500)\n                }}\n              />\n            )}\n\n            {/* Show the original image during server-side rendering if JavaScript is disabled */}\n            <noscript\n              dangerouslySetInnerHTML={{\n                __html: noscriptImg({ alt, title, ...image }),\n              }}\n            />\n          </div>\n        </div>\n      )\n    }\n\n    if (resolutions) {\n      const image = resolutions\n      const divStyle = {\n        position: `relative`,\n        overflow: `hidden`,\n        display: `inline-block`,\n        zIndex: 1,\n        width: image.width,\n        height: image.height,\n        ...style,\n      }\n\n      if (style.display === `inherit`) {\n        delete divStyle.display\n      }\n\n      // Use webp by default if browser supports it\n      if (image.srcWebp && image.srcSetWebp && isWebpSupported()) {\n        image.src = image.srcWebp\n        image.srcSet = image.srcSetWebp\n      }\n\n      // The outer div is necessary to reset the z-index to 0.\n      return (\n        <div\n          className={`${\n            outerWrapperClassName ? outerWrapperClassName : ``\n          } gatsby-image-outer-wrapper`}\n          style={{\n            zIndex: 0,\n            // Let users set component to be absolutely positioned.\n            position: style.position === `absolute` ? `initial` : `relative`,\n          }}\n        >\n          <div\n            className={`${className ? className : ``} gatsby-image-wrapper`}\n            style={divStyle}\n            ref={this.handleRef}\n          >\n            {/* Show the blury base64 image. */}\n            {image.base64 && (\n              <Img\n                alt={alt}\n                title={title}\n                src={image.base64}\n                opacity={!this.state.imgLoaded ? 1 : 0}\n                transitionDelay={`0.35s`}\n              />\n            )}\n\n            {/* Show the traced SVG image. */}\n            {image.tracedSVG && (\n              <Img\n                alt={alt}\n                title={title}\n                src={image.tracedSVG}\n                opacity={!this.state.imgLoaded ? 1 : 0}\n                transitionDelay={`0.25s`}\n              />\n            )}\n\n            {/* Show a solid background color. */}\n            {bgColor && (\n              <div\n                title={title}\n                style={{\n                  backgroundColor: bgColor,\n                  width: image.width,\n                  opacity: !this.state.imgLoaded ? 1 : 0,\n                  transitionDelay: `0.25s`,\n                  height: image.height,\n                }}\n              />\n            )}\n\n            {/* Once the image is visible, start downloading the image */}\n            {this.state.isVisible && (\n              <Img\n                alt={alt}\n                title={title}\n                width={image.width}\n                height={image.height}\n                srcSet={image.srcSet}\n                src={image.src}\n                opacity={\n                  this.state.imgLoaded || this.props.fadeIn === false ? 1 : 0\n                }\n                onLoad={() => {\n                  this.setState({ imgLoaded: true })\n                  this.props.onLoad && this.props.onLoad()\n                }}\n              />\n            )}\n\n            {/* Show the original image during server-side rendering if JavaScript is disabled */}\n            <noscript\n              dangerouslySetInnerHTML={{\n                __html: noscriptImg({\n                  alt,\n                  title,\n                  width: image.width,\n                  height: image.height,\n                  ...image,\n                }),\n              }}\n            />\n          </div>\n        </div>\n      )\n    }\n\n    return null\n  }\n}\n\nImage.defaultProps = {\n  fadeIn: true,\n  alt: ``,\n}\n\nImage.propTypes = {\n  responsiveResolution: PropTypes.object,\n  responsiveSizes: PropTypes.object,\n  resolutions: PropTypes.object,\n  sizes: PropTypes.object,\n  fadeIn: PropTypes.bool,\n  title: PropTypes.string,\n  alt: PropTypes.string,\n  className: PropTypes.oneOfType([PropTypes.string, PropTypes.object]), // Support Glamor's css prop.\n  outerWrapperClassName: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.object,\n  ]),\n  style: PropTypes.object,\n  position: PropTypes.string,\n  backgroundColor: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n  onLoad: PropTypes.func,\n}\n\nexport default Image"],"file":"Image.js"}